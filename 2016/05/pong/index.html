<!DOCTYPE html>
<html lang="en-us">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    
    <link rel="canonical" href="https://oliverwilkie.com/2016/05/pong/">
    
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.149.0">

    
    
    

<title>Pong in &lt; 250 lines of JS! ‚Ä¢ Oliver Wilkie</title>



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Pong in &lt; 250 lines of JS!">
  <meta name="twitter:description" content="This is a crude example of a playable game that can be expressed in less than 250 lines of code!
Demo Code 1&lt;!DOCTYPE html&gt; 2&lt;html&gt; 3&lt;body&gt; 4 &lt;canvas id=&#34;game&#34;&gt; &lt;/canvas&gt; 5 &lt;script type=&#34;text/javascript&#34;&gt; 6 var game = (function() { 7 var Width = 800, Height = 450; 8 var canvas = document.getElementById(&#34;game&#34;); 9 var FPS = 1000 / 60; 10 canvas.width = Width; 11 canvas.height = Height; 12 canvas.setAttribute(&#39;tabindex&#39;, 1); 13 var ctx = canvas.getContext(&#34;2d&#34;); 14 15 var BG = { 16 Color: &#39;#333&#39;, 17 Paint: function() { 18 ctx.fillStyle = this.Color; 19 ctx.fillRect(0, 0, Width, Height); 20 } 21 }; 22 23 var Ball = { Radius: 5, Color: &#39;#999&#39;, X: 0, Y: 0, VelX: 0, VelY: 0 }; 24 Ball.Paint = function() { 25 ctx.beginPath(); 26 ctx.fillStyle = this.Color; 27 ctx.arc(this.X, this.Y, this.Radius, 0, Math.PI * 2, false); 28 ctx.fill(); 29 this.Update(); 30 }; 31 Ball.Update = function() { 32 this.X &#43;= this.VelX; 33 this.Y &#43;= this.VelY; 34 }; 35 Ball.Reset = function() { 36 this.X = Width / 2; 37 this.Y = Height / 2; 38 this.VelX = (!!Math.round(Math.random() * 1) ? 1.5 : -1.5); 39 this.VelY = (!!Math.round(Math.random() * 1) ? 1.5 : -1.5); 40 }; 41 42 function Paddle(position) { 43 this.Color = &#39;#999&#39;; 44 this.Width = 5; 45 this.Height = 100; 46 this.X = 0; 47 this.Y = Height / 2 - this.Height / 2; 48 this.Score = 0; 49 if (position == &#39;left&#39;) 50 this.X = 0; 51 else this.X = Width - this.Width; 52 this.Paint = function() { 53 ctx.fillStyle = this.Color; 54 ctx.fillRect(this.X, this.Y, this.Width, this.Height); 55 ctx.fillStyle = this.Color; 56 ctx.font = &#34;normal 10pt Calibri&#34;; 57 if (position == &#39;left&#39;) { 58 ctx.textAlign = &#34;left&#34;; 59 ctx.fillText(&#34;score: &#34; &#43; Player.Score, 10, 10); 60 } else { 61 ctx.textAlign = &#34;right&#34;; 62 ctx.fillText(&#34;score: &#34; &#43; Computer.Score, Width - 10, 10); 63 } 64 }; 65 this.IsCollision = function() { 66 if (Ball.X - Ball.Radius &gt; this.Width &#43; this.X || this.X &gt; Ball.Radius * 2 &#43; Ball.X - Ball.Radius) 67 return false; 68 if (Ball.Y - Ball.Radius &gt; this.Height &#43; this.Y || this.Y &gt; Ball.Radius * 2 &#43; Ball.Y - Ball.Radius) 69 return false; 70 return true; 71 }; 72 }; 73 74 window.requestAnimFrame = (function() { 75 return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(callback) { 76 return window.setTimeout(callback, FPS); 77 }; 78 })(); 79 window.cancelRequestAnimFrame = (function() { 80 return window.cancelAnimationFrame || window.webkitCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || clearTimeout 81 })(); 82 83 var Computer = new Paddle(); 84 var Player = new Paddle(&#39;left&#39;); 85 86 function Paint() { 87 ctx.beginPath(); 88 BG.Paint(); 89 Computer.Paint(); 90 Player.Paint(); 91 Ball.Paint(); 92 } 93 94 function MouseMove(e) { 95 Player.Y = e.pageY - Player.Height / 2; 96 } 97 canvas.addEventListener(&#34;mousemove&#34;, MouseMove, true); 98 99 function Loop() { 100 init = requestAnimFrame(Loop); 101 Paint(); 102 if (Player.IsCollision() || Computer.IsCollision()) { 103 Ball.VelX = Ball.VelX * -1; 104 Ball.VelX &#43;= (Ball.VelX &gt; 0 ? 0.5 : -0.5); 105 if (Math.abs(Ball.VelX) &gt; Ball.Radius * 1.5) 106 Ball.VelX = (Ball.VelX &gt; 0 ? Ball.Radius * 1.5 : Ball.Radius * -1.5); 107 } 108 if (Ball.Y - Ball.Radius &lt; 0 || Ball.Y &#43; Ball.Radius &gt; Height) 109 Ball.VelY = Ball.VelY * -1; 110 if (Ball.X - Ball.Radius &lt;= 0) { 111 Computer.Score&#43;&#43;; 112 Ball.Reset(); 113 } else if (Ball.X &#43; Ball.Radius &gt; Width) { 114 Player.Score&#43;&#43;; 115 Ball.Reset(); 116 } 117 if (Computer.Score === 10) 118 GameOver(false); 119 else if (Player.Score === 10) 120 GameOver(true); 121 Computer.Y = (Computer.Y &#43; Computer.Height / 2 &lt; Ball.Y ? Computer.Y &#43; Computer.Vel : Computer.Y - Computer.Vel); 122 }; 123 124 function GameOver(win) { 125 cancelRequestAnimFrame(init); 126 BG.Paint(); 127 ctx.fillStyle = &#34;#999&#34;; 128 ctx.font = &#34;bold 40px Calibri&#34;; 129 ctx.textAlign = &#34;center&#34;; 130 ctx.fillText((win ? &#34;YOU WON!&#34; : &#34;GAME OVER&#34;), Width / 2, Height / 2); 131 ctx.font = &#34;normal 16px Calibri&#34;; 132 ctx.fillText(&#34;refresh to replay&#34;, Width / 2, Height / 2 &#43; 20); 133 } 134 return { 135 Start: function() { 136 Ball.Reset(); 137 Player.Score = 0; 138 Computer.Score = 0; 139 Computer.Vel = 1.25; 140 Loop(); 141 } 142 }; 143 })(); 144 game.Start(); 145 &lt;/script&gt; 146&lt;/body&gt; 147&lt;/html&gt;">
      <meta name="twitter:site" content="@oliwilks">

<meta property="og:url" content="https://oliverwilkie.com/2016/05/pong/">
  <meta property="og:site_name" content="Oliver Wilkie">
  <meta property="og:title" content="Pong in &lt; 250 lines of JS!">
  <meta property="og:description" content="This is a crude example of a playable game that can be expressed in less than 250 lines of code!
Demo Code 1&lt;!DOCTYPE html&gt; 2&lt;html&gt; 3&lt;body&gt; 4 &lt;canvas id=&#34;game&#34;&gt; &lt;/canvas&gt; 5 &lt;script type=&#34;text/javascript&#34;&gt; 6 var game = (function() { 7 var Width = 800, Height = 450; 8 var canvas = document.getElementById(&#34;game&#34;); 9 var FPS = 1000 / 60; 10 canvas.width = Width; 11 canvas.height = Height; 12 canvas.setAttribute(&#39;tabindex&#39;, 1); 13 var ctx = canvas.getContext(&#34;2d&#34;); 14 15 var BG = { 16 Color: &#39;#333&#39;, 17 Paint: function() { 18 ctx.fillStyle = this.Color; 19 ctx.fillRect(0, 0, Width, Height); 20 } 21 }; 22 23 var Ball = { Radius: 5, Color: &#39;#999&#39;, X: 0, Y: 0, VelX: 0, VelY: 0 }; 24 Ball.Paint = function() { 25 ctx.beginPath(); 26 ctx.fillStyle = this.Color; 27 ctx.arc(this.X, this.Y, this.Radius, 0, Math.PI * 2, false); 28 ctx.fill(); 29 this.Update(); 30 }; 31 Ball.Update = function() { 32 this.X &#43;= this.VelX; 33 this.Y &#43;= this.VelY; 34 }; 35 Ball.Reset = function() { 36 this.X = Width / 2; 37 this.Y = Height / 2; 38 this.VelX = (!!Math.round(Math.random() * 1) ? 1.5 : -1.5); 39 this.VelY = (!!Math.round(Math.random() * 1) ? 1.5 : -1.5); 40 }; 41 42 function Paddle(position) { 43 this.Color = &#39;#999&#39;; 44 this.Width = 5; 45 this.Height = 100; 46 this.X = 0; 47 this.Y = Height / 2 - this.Height / 2; 48 this.Score = 0; 49 if (position == &#39;left&#39;) 50 this.X = 0; 51 else this.X = Width - this.Width; 52 this.Paint = function() { 53 ctx.fillStyle = this.Color; 54 ctx.fillRect(this.X, this.Y, this.Width, this.Height); 55 ctx.fillStyle = this.Color; 56 ctx.font = &#34;normal 10pt Calibri&#34;; 57 if (position == &#39;left&#39;) { 58 ctx.textAlign = &#34;left&#34;; 59 ctx.fillText(&#34;score: &#34; &#43; Player.Score, 10, 10); 60 } else { 61 ctx.textAlign = &#34;right&#34;; 62 ctx.fillText(&#34;score: &#34; &#43; Computer.Score, Width - 10, 10); 63 } 64 }; 65 this.IsCollision = function() { 66 if (Ball.X - Ball.Radius &gt; this.Width &#43; this.X || this.X &gt; Ball.Radius * 2 &#43; Ball.X - Ball.Radius) 67 return false; 68 if (Ball.Y - Ball.Radius &gt; this.Height &#43; this.Y || this.Y &gt; Ball.Radius * 2 &#43; Ball.Y - Ball.Radius) 69 return false; 70 return true; 71 }; 72 }; 73 74 window.requestAnimFrame = (function() { 75 return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(callback) { 76 return window.setTimeout(callback, FPS); 77 }; 78 })(); 79 window.cancelRequestAnimFrame = (function() { 80 return window.cancelAnimationFrame || window.webkitCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || clearTimeout 81 })(); 82 83 var Computer = new Paddle(); 84 var Player = new Paddle(&#39;left&#39;); 85 86 function Paint() { 87 ctx.beginPath(); 88 BG.Paint(); 89 Computer.Paint(); 90 Player.Paint(); 91 Ball.Paint(); 92 } 93 94 function MouseMove(e) { 95 Player.Y = e.pageY - Player.Height / 2; 96 } 97 canvas.addEventListener(&#34;mousemove&#34;, MouseMove, true); 98 99 function Loop() { 100 init = requestAnimFrame(Loop); 101 Paint(); 102 if (Player.IsCollision() || Computer.IsCollision()) { 103 Ball.VelX = Ball.VelX * -1; 104 Ball.VelX &#43;= (Ball.VelX &gt; 0 ? 0.5 : -0.5); 105 if (Math.abs(Ball.VelX) &gt; Ball.Radius * 1.5) 106 Ball.VelX = (Ball.VelX &gt; 0 ? Ball.Radius * 1.5 : Ball.Radius * -1.5); 107 } 108 if (Ball.Y - Ball.Radius &lt; 0 || Ball.Y &#43; Ball.Radius &gt; Height) 109 Ball.VelY = Ball.VelY * -1; 110 if (Ball.X - Ball.Radius &lt;= 0) { 111 Computer.Score&#43;&#43;; 112 Ball.Reset(); 113 } else if (Ball.X &#43; Ball.Radius &gt; Width) { 114 Player.Score&#43;&#43;; 115 Ball.Reset(); 116 } 117 if (Computer.Score === 10) 118 GameOver(false); 119 else if (Player.Score === 10) 120 GameOver(true); 121 Computer.Y = (Computer.Y &#43; Computer.Height / 2 &lt; Ball.Y ? Computer.Y &#43; Computer.Vel : Computer.Y - Computer.Vel); 122 }; 123 124 function GameOver(win) { 125 cancelRequestAnimFrame(init); 126 BG.Paint(); 127 ctx.fillStyle = &#34;#999&#34;; 128 ctx.font = &#34;bold 40px Calibri&#34;; 129 ctx.textAlign = &#34;center&#34;; 130 ctx.fillText((win ? &#34;YOU WON!&#34; : &#34;GAME OVER&#34;), Width / 2, Height / 2); 131 ctx.font = &#34;normal 16px Calibri&#34;; 132 ctx.fillText(&#34;refresh to replay&#34;, Width / 2, Height / 2 &#43; 20); 133 } 134 return { 135 Start: function() { 136 Ball.Reset(); 137 Player.Score = 0; 138 Computer.Score = 0; 139 Computer.Vel = 1.25; 140 Loop(); 141 } 142 }; 143 })(); 144 game.Start(); 145 &lt;/script&gt; 146&lt;/body&gt; 147&lt;/html&gt;">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2016-05-27T15:02:32+01:00">
    <meta property="article:modified_time" content="2020-08-30T13:16:06-07:00">


    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/rainbow.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.93b03169f547d63095400cd77009cc8c3a843524af7aa9c2a4950808764793f1.css" integrity="sha256-k7AxafVH1jCVQAzXcAnMjDqENSSveqnCpJUICHZHk/E=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
    
<script src="/fleck.6b0b3dc2ee7a7537bfed7a772867ca394d6afd445730db65111264a7b86c9981.js" type="text/javascript" integrity="sha256-aws9wu56dTe/7Xp3KGfKOU1q/URXMNtlERJkp7hsmYE="></script>
</head>


    <body class="theme-base-custom ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://oliverwilkie.com/">
        
          Oliver Wilkie
        
        </a>
      </span>
      
      
      <p class="site__description">
         Software Engineer 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Oliver Wilkie</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/posts">
						<span>Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/portfolio">
						<span>Projects</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/lists">
						<span>Lists</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/about/">
						<span>About</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/oliwilks" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	<a href="https://github.com/oliw" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	<a href="https://linkedin.com/in/owilkie" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    


  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>Pong in &lt; 250 lines of JS!</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> May 27, 2016
    
    
    
      
      
          in
          
          
              <a class="badge badge-category" href="/categories/coding">CODING</a>
              
          
      
    
    
    
    <br/>
    <i class="fas fa-clock"></i> 4 min read
    
    
      <div class="post__disclaimer" style="margin-top:0.5rem; color:grey; font-style:italic;">
        üï∞Ô∏è This post is 2+ years old. My views likely differ now‚Äîconsider this a time capsule.
      </div>
    
</div>


  </header>
  
  
  <div class="post">
    <p>This is a crude example of a playable game that can be expressed in less than 250 lines of code!</p>
<h2 id="demo">Demo</h2>
<script
    data-slug-hash="pbovov"
    data-user="jorin"
    data-height="500"
    data-default-tab="result"
    data-theme-id="8862"
    class='codepen'
    async
    src="//codepen.io/assets/embed/ei.js"
></script>
<h2 id="code">Code</h2>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  1</span><span><span style="color:#0f0;font-weight:bold">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  2</span><span>&lt;<span style="font-weight:bold">html</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  3</span><span>&lt;<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  4</span><span>  &lt;<span style="font-weight:bold">canvas</span> <span style="color:#007f7f">id</span>=<span style="color:#0ff;font-weight:bold">&#34;game&#34;</span>&gt; &lt;/<span style="font-weight:bold">canvas</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  5</span><span>  &lt;<span style="font-weight:bold">script</span> <span style="color:#007f7f">type</span>=<span style="color:#0ff;font-weight:bold">&#34;text/javascript&#34;</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  6</span><span>    <span style="color:#fff;font-weight:bold">var</span> game = (<span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  7</span><span>      <span style="color:#fff;font-weight:bold">var</span> Width = <span style="color:#ff0;font-weight:bold">800</span>, Height = <span style="color:#ff0;font-weight:bold">450</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  8</span><span>      <span style="color:#fff;font-weight:bold">var</span> canvas = <span style="color:#fff;font-weight:bold">document</span>.getElementById(<span style="color:#0ff;font-weight:bold">&#34;game&#34;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  9</span><span>      <span style="color:#fff;font-weight:bold">var</span> FPS = <span style="color:#ff0;font-weight:bold">1000</span> / <span style="color:#ff0;font-weight:bold">60</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 10</span><span>      canvas.width = Width;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 11</span><span>      canvas.height = Height;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 12</span><span>      canvas.setAttribute(<span style="color:#0ff;font-weight:bold">&#39;tabindex&#39;</span>, <span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 13</span><span>      <span style="color:#fff;font-weight:bold">var</span> ctx = canvas.getContext(<span style="color:#0ff;font-weight:bold">&#34;2d&#34;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 14</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 15</span><span>      <span style="color:#fff;font-weight:bold">var</span> BG = {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 16</span><span>        Color: <span style="color:#0ff;font-weight:bold">&#39;#333&#39;</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 17</span><span>        Paint: <span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 18</span><span>          ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.Color;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 19</span><span>          ctx.fillRect(<span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">0</span>, Width, Height);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 20</span><span>        }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 21</span><span>      };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 22</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 23</span><span>      <span style="color:#fff;font-weight:bold">var</span> Ball = { Radius: <span style="color:#ff0;font-weight:bold">5</span>, Color: <span style="color:#0ff;font-weight:bold">&#39;#999&#39;</span>, X: <span style="color:#ff0;font-weight:bold">0</span>, Y: <span style="color:#ff0;font-weight:bold">0</span>, VelX: <span style="color:#ff0;font-weight:bold">0</span>, VelY: <span style="color:#ff0;font-weight:bold">0</span> };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 24</span><span>      Ball.Paint = <span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 25</span><span>        ctx.beginPath();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 26</span><span>        ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.Color;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 27</span><span>        ctx.arc(<span style="color:#fff;font-weight:bold">this</span>.X, <span style="color:#fff;font-weight:bold">this</span>.Y, <span style="color:#fff;font-weight:bold">this</span>.Radius, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#fff;font-weight:bold">Math</span>.PI * <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">false</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 28</span><span>        ctx.fill();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 29</span><span>        <span style="color:#fff;font-weight:bold">this</span>.Update();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 30</span><span>      };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 31</span><span>      Ball.Update = <span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 32</span><span>        <span style="color:#fff;font-weight:bold">this</span>.X += <span style="color:#fff;font-weight:bold">this</span>.VelX;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 33</span><span>        <span style="color:#fff;font-weight:bold">this</span>.Y += <span style="color:#fff;font-weight:bold">this</span>.VelY;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 34</span><span>      };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 35</span><span>      Ball.Reset = <span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 36</span><span>        <span style="color:#fff;font-weight:bold">this</span>.X = Width / <span style="color:#ff0;font-weight:bold">2</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 37</span><span>        <span style="color:#fff;font-weight:bold">this</span>.Y = Height / <span style="color:#ff0;font-weight:bold">2</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 38</span><span>        <span style="color:#fff;font-weight:bold">this</span>.VelX = (!!<span style="color:#fff;font-weight:bold">Math</span>.round(<span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#ff0;font-weight:bold">1</span>) ? <span style="color:#ff0;font-weight:bold">1.5</span> : -<span style="color:#ff0;font-weight:bold">1.5</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 39</span><span>        <span style="color:#fff;font-weight:bold">this</span>.VelY = (!!<span style="color:#fff;font-weight:bold">Math</span>.round(<span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#ff0;font-weight:bold">1</span>) ? <span style="color:#ff0;font-weight:bold">1.5</span> : -<span style="color:#ff0;font-weight:bold">1.5</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 40</span><span>      };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 41</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 42</span><span>      <span style="color:#fff;font-weight:bold">function</span> Paddle(position) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 43</span><span>        <span style="color:#fff;font-weight:bold">this</span>.Color = <span style="color:#0ff;font-weight:bold">&#39;#999&#39;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 44</span><span>        <span style="color:#fff;font-weight:bold">this</span>.Width = <span style="color:#ff0;font-weight:bold">5</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 45</span><span>        <span style="color:#fff;font-weight:bold">this</span>.Height = <span style="color:#ff0;font-weight:bold">100</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 46</span><span>        <span style="color:#fff;font-weight:bold">this</span>.X = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 47</span><span>        <span style="color:#fff;font-weight:bold">this</span>.Y = Height / <span style="color:#ff0;font-weight:bold">2</span> - <span style="color:#fff;font-weight:bold">this</span>.Height / <span style="color:#ff0;font-weight:bold">2</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 48</span><span>        <span style="color:#fff;font-weight:bold">this</span>.Score = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 49</span><span>        <span style="color:#fff;font-weight:bold">if</span> (position == <span style="color:#0ff;font-weight:bold">&#39;left&#39;</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 50</span><span>          <span style="color:#fff;font-weight:bold">this</span>.X = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 51</span><span>        <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">this</span>.X = Width - <span style="color:#fff;font-weight:bold">this</span>.Width;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 52</span><span>        <span style="color:#fff;font-weight:bold">this</span>.Paint = <span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 53</span><span>          ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.Color;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 54</span><span>          ctx.fillRect(<span style="color:#fff;font-weight:bold">this</span>.X, <span style="color:#fff;font-weight:bold">this</span>.Y, <span style="color:#fff;font-weight:bold">this</span>.Width, <span style="color:#fff;font-weight:bold">this</span>.Height);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 55</span><span>          ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.Color;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 56</span><span>          ctx.font = <span style="color:#0ff;font-weight:bold">&#34;normal 10pt Calibri&#34;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 57</span><span>          <span style="color:#fff;font-weight:bold">if</span> (position == <span style="color:#0ff;font-weight:bold">&#39;left&#39;</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 58</span><span>            ctx.textAlign = <span style="color:#0ff;font-weight:bold">&#34;left&#34;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 59</span><span>            ctx.fillText(<span style="color:#0ff;font-weight:bold">&#34;score: &#34;</span> + Player.Score, <span style="color:#ff0;font-weight:bold">10</span>, <span style="color:#ff0;font-weight:bold">10</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 60</span><span>          } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 61</span><span>            ctx.textAlign = <span style="color:#0ff;font-weight:bold">&#34;right&#34;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 62</span><span>            ctx.fillText(<span style="color:#0ff;font-weight:bold">&#34;score: &#34;</span> + Computer.Score, Width - <span style="color:#ff0;font-weight:bold">10</span>, <span style="color:#ff0;font-weight:bold">10</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 63</span><span>          }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 64</span><span>        };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 65</span><span>        <span style="color:#fff;font-weight:bold">this</span>.IsCollision = <span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 66</span><span>          <span style="color:#fff;font-weight:bold">if</span> (Ball.X - Ball.Radius &gt; <span style="color:#fff;font-weight:bold">this</span>.Width + <span style="color:#fff;font-weight:bold">this</span>.X || <span style="color:#fff;font-weight:bold">this</span>.X &gt; Ball.Radius * <span style="color:#ff0;font-weight:bold">2</span> + Ball.X - Ball.Radius)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 67</span><span>            <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 68</span><span>          <span style="color:#fff;font-weight:bold">if</span> (Ball.Y - Ball.Radius &gt; <span style="color:#fff;font-weight:bold">this</span>.Height + <span style="color:#fff;font-weight:bold">this</span>.Y || <span style="color:#fff;font-weight:bold">this</span>.Y &gt; Ball.Radius * <span style="color:#ff0;font-weight:bold">2</span> + Ball.Y - Ball.Radius)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 69</span><span>            <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 70</span><span>          <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 71</span><span>        };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 72</span><span>      };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 73</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 74</span><span>      <span style="color:#fff;font-weight:bold">window</span>.requestAnimFrame = (<span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 75</span><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">window</span>.requestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.webkitRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.mozRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.oRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.msRequestAnimationFrame || <span style="color:#fff;font-weight:bold">function</span>(callback) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 76</span><span>          <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">window</span>.setTimeout(callback, FPS);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 77</span><span>        };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 78</span><span>      })();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 79</span><span>      <span style="color:#fff;font-weight:bold">window</span>.cancelRequestAnimFrame = (<span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 80</span><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">window</span>.cancelAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.webkitCancelRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.mozCancelRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.oCancelRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.msCancelRequestAnimationFrame || clearTimeout
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 81</span><span>      })();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 82</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 83</span><span>      <span style="color:#fff;font-weight:bold">var</span> Computer = <span style="color:#fff;font-weight:bold">new</span> Paddle();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 84</span><span>      <span style="color:#fff;font-weight:bold">var</span> Player = <span style="color:#fff;font-weight:bold">new</span> Paddle(<span style="color:#0ff;font-weight:bold">&#39;left&#39;</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 85</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 86</span><span>      <span style="color:#fff;font-weight:bold">function</span> Paint() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 87</span><span>        ctx.beginPath();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 88</span><span>        BG.Paint();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 89</span><span>        Computer.Paint();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 90</span><span>        Player.Paint();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 91</span><span>        Ball.Paint();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 92</span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 93</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 94</span><span>      <span style="color:#fff;font-weight:bold">function</span> MouseMove(e) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 95</span><span>        Player.Y = e.pageY - Player.Height / <span style="color:#ff0;font-weight:bold">2</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 96</span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 97</span><span>      canvas.addEventListener(<span style="color:#0ff;font-weight:bold">&#34;mousemove&#34;</span>, MouseMove, <span style="color:#fff;font-weight:bold">true</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 98</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 99</span><span>      <span style="color:#fff;font-weight:bold">function</span> Loop() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">100</span><span>        init = requestAnimFrame(Loop);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">101</span><span>        Paint();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">102</span><span>        <span style="color:#fff;font-weight:bold">if</span> (Player.IsCollision() || Computer.IsCollision()) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">103</span><span>          Ball.VelX = Ball.VelX * -<span style="color:#ff0;font-weight:bold">1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">104</span><span>          Ball.VelX += (Ball.VelX &gt; <span style="color:#ff0;font-weight:bold">0</span> ? <span style="color:#ff0;font-weight:bold">0.5</span> : -<span style="color:#ff0;font-weight:bold">0.5</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">105</span><span>          <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">Math</span>.abs(Ball.VelX) &gt; Ball.Radius * <span style="color:#ff0;font-weight:bold">1.5</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">106</span><span>            Ball.VelX = (Ball.VelX &gt; <span style="color:#ff0;font-weight:bold">0</span> ? Ball.Radius * <span style="color:#ff0;font-weight:bold">1.5</span> : Ball.Radius * -<span style="color:#ff0;font-weight:bold">1.5</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">107</span><span>        }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">108</span><span>        <span style="color:#fff;font-weight:bold">if</span> (Ball.Y - Ball.Radius &lt; <span style="color:#ff0;font-weight:bold">0</span> || Ball.Y + Ball.Radius &gt; Height)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">109</span><span>          Ball.VelY = Ball.VelY * -<span style="color:#ff0;font-weight:bold">1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">110</span><span>        <span style="color:#fff;font-weight:bold">if</span> (Ball.X - Ball.Radius &lt;= <span style="color:#ff0;font-weight:bold">0</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">111</span><span>          Computer.Score++;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">112</span><span>          Ball.Reset();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">113</span><span>        } <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (Ball.X + Ball.Radius &gt; Width) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">114</span><span>          Player.Score++;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">115</span><span>          Ball.Reset();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">116</span><span>        }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">117</span><span>        <span style="color:#fff;font-weight:bold">if</span> (Computer.Score === <span style="color:#ff0;font-weight:bold">10</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">118</span><span>          GameOver(<span style="color:#fff;font-weight:bold">false</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">119</span><span>        <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (Player.Score === <span style="color:#ff0;font-weight:bold">10</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">120</span><span>          GameOver(<span style="color:#fff;font-weight:bold">true</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">121</span><span>        Computer.Y = (Computer.Y + Computer.Height / <span style="color:#ff0;font-weight:bold">2</span> &lt; Ball.Y ? Computer.Y + Computer.Vel : Computer.Y - Computer.Vel);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">122</span><span>      };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">123</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">124</span><span>      <span style="color:#fff;font-weight:bold">function</span> GameOver(win) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">125</span><span>        cancelRequestAnimFrame(init);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">126</span><span>        BG.Paint();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">127</span><span>        ctx.fillStyle = <span style="color:#0ff;font-weight:bold">&#34;#999&#34;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">128</span><span>        ctx.font = <span style="color:#0ff;font-weight:bold">&#34;bold 40px Calibri&#34;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">129</span><span>        ctx.textAlign = <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">130</span><span>        ctx.fillText((win ? <span style="color:#0ff;font-weight:bold">&#34;YOU WON!&#34;</span> : <span style="color:#0ff;font-weight:bold">&#34;GAME OVER&#34;</span>), Width / <span style="color:#ff0;font-weight:bold">2</span>, Height / <span style="color:#ff0;font-weight:bold">2</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">131</span><span>        ctx.font = <span style="color:#0ff;font-weight:bold">&#34;normal 16px Calibri&#34;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">132</span><span>        ctx.fillText(<span style="color:#0ff;font-weight:bold">&#34;refresh to replay&#34;</span>, Width / <span style="color:#ff0;font-weight:bold">2</span>, Height / <span style="color:#ff0;font-weight:bold">2</span> + <span style="color:#ff0;font-weight:bold">20</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">133</span><span>      }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">134</span><span>      <span style="color:#fff;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">135</span><span>        Start: <span style="color:#fff;font-weight:bold">function</span>() {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">136</span><span>          Ball.Reset();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">137</span><span>          Player.Score = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">138</span><span>          Computer.Score = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">139</span><span>          Computer.Vel = <span style="color:#ff0;font-weight:bold">1.25</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">140</span><span>          Loop();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">141</span><span>        }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">142</span><span>      };
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">143</span><span>    })();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">144</span><span>    game.Start();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">145</span><span>  &lt;/<span style="font-weight:bold">script</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">146</span><span>&lt;/<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">147</span><span>&lt;/<span style="font-weight:bold">html</span>&gt;</span></span></code></pre></div>

  </div>
  

  
	
		<p>Want to talk about this post? Find me on <a href="https://twitter.com/oliwilks" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></p>
	
    
    <div>

    </div>


  

<div class="navigation navigation-single">
    
    <a href="/2016/03/reroku/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Reroku (Heroku on a Raspberry Pi)</span>
    </a>
    
    
    <a href="/2016/07/tensorflow_101/" class="navigation-next">
      <span class="navigation-tittle">Tensorflow 101</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


</article>


        </div>
        
    
<script defer src="https://use.fontawesome.com/releases/v5.12.1/js/all.js" integrity="sha384-ZbbbT1gw3joYkKRqh0kWyRp32UAvdqkpbLedQJSlnI8iLQcFVxaGyrOgOJiDQTTR" crossorigin="anonymous"></script>


    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        
    <script type="text/javascript">
        
        hljs.initHighlightingOnLoad();
    </script>
    



    



    </body>
</html>
