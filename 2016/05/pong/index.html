	<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.55.5" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  
  <title>Pong in &lt; 250 lines of JS! &middot; O.</title>
  

  
  <link rel="stylesheet" href="https://oliverwilkie.com/css/poole.css">
  <link rel="stylesheet" href="https://oliverwilkie.com/css/syntax.css">
  <link rel="stylesheet" href="https://oliverwilkie.com/css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="O." />
</head>

	<body class=" ">
		<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://oliverwilkie.com/"><h1>O.</h1></a>
      <p class="lead">
       coding and other projects by Oliver Wilkie 
      </p>
    </div>

    <ul class="sidebar-nav">
      <li><a href="/">Home</a> </li>
      
        <li><a href="/about/"> About </a></li>
      
    </ul>

    <p>&copy; 2020. All rights reserved. </p>
  </div>
</div>


		<div class="content container">
			<div class="post">
			 	<h1>Pong in &lt; 250 lines of JS!</h1>
			  <span class="post-date">Fri, May 27, 2016</span>
			      

<p>This is a crude example of a playable game that can be expressed in less than 250 lines of code!</p>

<h2 id="demo">Demo</h2>

<script
    data-slug-hash="pbovov"
    data-user="jorin"
    data-height="500"
    data-default-tab="result"
    data-theme-id="8862"
    class='codepen'
    async
    src="//codepen.io/assets/embed/ei.js"
></script>

<h2 id="code">Code</h2>

<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  1</span><span style="color:#0f0;font-weight:bold">&lt;!DOCTYPE html&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  2</span>&lt;<span style="font-weight:bold">html</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  3</span>&lt;<span style="font-weight:bold">body</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  4</span>  &lt;<span style="font-weight:bold">canvas</span> <span style="color:#007f7f">id</span>=<span style="color:#0ff;font-weight:bold">&#34;game&#34;</span>&gt; &lt;/<span style="font-weight:bold">canvas</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  5</span>  &lt;<span style="font-weight:bold">script</span> <span style="color:#007f7f">type</span>=<span style="color:#0ff;font-weight:bold">&#34;text/javascript&#34;</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  6</span>    <span style="color:#fff;font-weight:bold">var</span> game = (<span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  7</span>      <span style="color:#fff;font-weight:bold">var</span> Width = <span style="color:#ff0;font-weight:bold">800</span>, Height = <span style="color:#ff0;font-weight:bold">450</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  8</span>      <span style="color:#fff;font-weight:bold">var</span> canvas = <span style="color:#fff;font-weight:bold">document</span>.getElementById(<span style="color:#0ff;font-weight:bold">&#34;game&#34;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  9</span>      <span style="color:#fff;font-weight:bold">var</span> FPS = <span style="color:#ff0;font-weight:bold">1000</span> / <span style="color:#ff0;font-weight:bold">60</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 10</span>      canvas.width = Width;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 11</span>      canvas.height = Height;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 12</span>      canvas.setAttribute(<span style="color:#0ff;font-weight:bold">&#39;tabindex&#39;</span>, <span style="color:#ff0;font-weight:bold">1</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 13</span>      <span style="color:#fff;font-weight:bold">var</span> ctx = canvas.getContext(<span style="color:#0ff;font-weight:bold">&#34;2d&#34;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 14</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 15</span>      <span style="color:#fff;font-weight:bold">var</span> BG = {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 16</span>        Color: <span style="color:#0ff;font-weight:bold">&#39;#333&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 17</span>        Paint: <span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 18</span>          ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.Color;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 19</span>          ctx.fillRect(<span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">0</span>, Width, Height);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 20</span>        }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 21</span>      };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 22</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 23</span>      <span style="color:#fff;font-weight:bold">var</span> Ball = { Radius: <span style="color:#ff0;font-weight:bold">5</span>, Color: <span style="color:#0ff;font-weight:bold">&#39;#999&#39;</span>, X: <span style="color:#ff0;font-weight:bold">0</span>, Y: <span style="color:#ff0;font-weight:bold">0</span>, VelX: <span style="color:#ff0;font-weight:bold">0</span>, VelY: <span style="color:#ff0;font-weight:bold">0</span> };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 24</span>      Ball.Paint = <span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 25</span>        ctx.beginPath();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 26</span>        ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.Color;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 27</span>        ctx.arc(<span style="color:#fff;font-weight:bold">this</span>.X, <span style="color:#fff;font-weight:bold">this</span>.Y, <span style="color:#fff;font-weight:bold">this</span>.Radius, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#fff;font-weight:bold">Math</span>.PI * <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">false</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 28</span>        ctx.fill();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 29</span>        <span style="color:#fff;font-weight:bold">this</span>.Update();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 30</span>      };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 31</span>      Ball.Update = <span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 32</span>        <span style="color:#fff;font-weight:bold">this</span>.X += <span style="color:#fff;font-weight:bold">this</span>.VelX;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 33</span>        <span style="color:#fff;font-weight:bold">this</span>.Y += <span style="color:#fff;font-weight:bold">this</span>.VelY;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 34</span>      };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 35</span>      Ball.Reset = <span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 36</span>        <span style="color:#fff;font-weight:bold">this</span>.X = Width / <span style="color:#ff0;font-weight:bold">2</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 37</span>        <span style="color:#fff;font-weight:bold">this</span>.Y = Height / <span style="color:#ff0;font-weight:bold">2</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 38</span>        <span style="color:#fff;font-weight:bold">this</span>.VelX = (!!<span style="color:#fff;font-weight:bold">Math</span>.round(<span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#ff0;font-weight:bold">1</span>) ? <span style="color:#ff0;font-weight:bold">1.5</span> : -<span style="color:#ff0;font-weight:bold">1.5</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 39</span>        <span style="color:#fff;font-weight:bold">this</span>.VelY = (!!<span style="color:#fff;font-weight:bold">Math</span>.round(<span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#ff0;font-weight:bold">1</span>) ? <span style="color:#ff0;font-weight:bold">1.5</span> : -<span style="color:#ff0;font-weight:bold">1.5</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 40</span>      };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 41</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 42</span>      <span style="color:#fff;font-weight:bold">function</span> Paddle(position) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 43</span>        <span style="color:#fff;font-weight:bold">this</span>.Color = <span style="color:#0ff;font-weight:bold">&#39;#999&#39;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 44</span>        <span style="color:#fff;font-weight:bold">this</span>.Width = <span style="color:#ff0;font-weight:bold">5</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 45</span>        <span style="color:#fff;font-weight:bold">this</span>.Height = <span style="color:#ff0;font-weight:bold">100</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 46</span>        <span style="color:#fff;font-weight:bold">this</span>.X = <span style="color:#ff0;font-weight:bold">0</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 47</span>        <span style="color:#fff;font-weight:bold">this</span>.Y = Height / <span style="color:#ff0;font-weight:bold">2</span> - <span style="color:#fff;font-weight:bold">this</span>.Height / <span style="color:#ff0;font-weight:bold">2</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 48</span>        <span style="color:#fff;font-weight:bold">this</span>.Score = <span style="color:#ff0;font-weight:bold">0</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 49</span>        <span style="color:#fff;font-weight:bold">if</span> (position == <span style="color:#0ff;font-weight:bold">&#39;left&#39;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 50</span>          <span style="color:#fff;font-weight:bold">this</span>.X = <span style="color:#ff0;font-weight:bold">0</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 51</span>        <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">this</span>.X = Width - <span style="color:#fff;font-weight:bold">this</span>.Width;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 52</span>        <span style="color:#fff;font-weight:bold">this</span>.Paint = <span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 53</span>          ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.Color;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 54</span>          ctx.fillRect(<span style="color:#fff;font-weight:bold">this</span>.X, <span style="color:#fff;font-weight:bold">this</span>.Y, <span style="color:#fff;font-weight:bold">this</span>.Width, <span style="color:#fff;font-weight:bold">this</span>.Height);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 55</span>          ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.Color;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 56</span>          ctx.font = <span style="color:#0ff;font-weight:bold">&#34;normal 10pt Calibri&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 57</span>          <span style="color:#fff;font-weight:bold">if</span> (position == <span style="color:#0ff;font-weight:bold">&#39;left&#39;</span>) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 58</span>            ctx.textAlign = <span style="color:#0ff;font-weight:bold">&#34;left&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 59</span>            ctx.fillText(<span style="color:#0ff;font-weight:bold">&#34;score: &#34;</span> + Player.Score, <span style="color:#ff0;font-weight:bold">10</span>, <span style="color:#ff0;font-weight:bold">10</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 60</span>          } <span style="color:#fff;font-weight:bold">else</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 61</span>            ctx.textAlign = <span style="color:#0ff;font-weight:bold">&#34;right&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 62</span>            ctx.fillText(<span style="color:#0ff;font-weight:bold">&#34;score: &#34;</span> + Computer.Score, Width - <span style="color:#ff0;font-weight:bold">10</span>, <span style="color:#ff0;font-weight:bold">10</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 63</span>          }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 64</span>        };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 65</span>        <span style="color:#fff;font-weight:bold">this</span>.IsCollision = <span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 66</span>          <span style="color:#fff;font-weight:bold">if</span> (Ball.X - Ball.Radius &gt; <span style="color:#fff;font-weight:bold">this</span>.Width + <span style="color:#fff;font-weight:bold">this</span>.X || <span style="color:#fff;font-weight:bold">this</span>.X &gt; Ball.Radius * <span style="color:#ff0;font-weight:bold">2</span> + Ball.X - Ball.Radius)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 67</span>            <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 68</span>          <span style="color:#fff;font-weight:bold">if</span> (Ball.Y - Ball.Radius &gt; <span style="color:#fff;font-weight:bold">this</span>.Height + <span style="color:#fff;font-weight:bold">this</span>.Y || <span style="color:#fff;font-weight:bold">this</span>.Y &gt; Ball.Radius * <span style="color:#ff0;font-weight:bold">2</span> + Ball.Y - Ball.Radius)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 69</span>            <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 70</span>          <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">true</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 71</span>        };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 72</span>      };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 73</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 74</span>      <span style="color:#fff;font-weight:bold">window</span>.requestAnimFrame = (<span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 75</span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">window</span>.requestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.webkitRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.mozRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.oRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.msRequestAnimationFrame || <span style="color:#fff;font-weight:bold">function</span>(callback) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 76</span>          <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">window</span>.setTimeout(callback, FPS);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 77</span>        };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 78</span>      })();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 79</span>      <span style="color:#fff;font-weight:bold">window</span>.cancelRequestAnimFrame = (<span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 80</span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">window</span>.cancelAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.webkitCancelRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.mozCancelRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.oCancelRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.msCancelRequestAnimationFrame || clearTimeout
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 81</span>      })();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 82</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 83</span>      <span style="color:#fff;font-weight:bold">var</span> Computer = <span style="color:#fff;font-weight:bold">new</span> Paddle();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 84</span>      <span style="color:#fff;font-weight:bold">var</span> Player = <span style="color:#fff;font-weight:bold">new</span> Paddle(<span style="color:#0ff;font-weight:bold">&#39;left&#39;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 85</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 86</span>      <span style="color:#fff;font-weight:bold">function</span> Paint() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 87</span>        ctx.beginPath();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 88</span>        BG.Paint();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 89</span>        Computer.Paint();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 90</span>        Player.Paint();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 91</span>        Ball.Paint();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 92</span>      }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 93</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 94</span>      <span style="color:#fff;font-weight:bold">function</span> MouseMove(e) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 95</span>        Player.Y = e.pageY - Player.Height / <span style="color:#ff0;font-weight:bold">2</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 96</span>      }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 97</span>      canvas.addEventListener(<span style="color:#0ff;font-weight:bold">&#34;mousemove&#34;</span>, MouseMove, <span style="color:#fff;font-weight:bold">true</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 98</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 99</span>      <span style="color:#fff;font-weight:bold">function</span> Loop() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">100</span>        init = requestAnimFrame(Loop);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">101</span>        Paint();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">102</span>        <span style="color:#fff;font-weight:bold">if</span> (Player.IsCollision() || Computer.IsCollision()) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">103</span>          Ball.VelX = Ball.VelX * -<span style="color:#ff0;font-weight:bold">1</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">104</span>          Ball.VelX += (Ball.VelX &gt; <span style="color:#ff0;font-weight:bold">0</span> ? <span style="color:#ff0;font-weight:bold">0.5</span> : -<span style="color:#ff0;font-weight:bold">0.5</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">105</span>          <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">Math</span>.abs(Ball.VelX) &gt; Ball.Radius * <span style="color:#ff0;font-weight:bold">1.5</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">106</span>            Ball.VelX = (Ball.VelX &gt; <span style="color:#ff0;font-weight:bold">0</span> ? Ball.Radius * <span style="color:#ff0;font-weight:bold">1.5</span> : Ball.Radius * -<span style="color:#ff0;font-weight:bold">1.5</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">107</span>        }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">108</span>        <span style="color:#fff;font-weight:bold">if</span> (Ball.Y - Ball.Radius &lt; <span style="color:#ff0;font-weight:bold">0</span> || Ball.Y + Ball.Radius &gt; Height)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">109</span>          Ball.VelY = Ball.VelY * -<span style="color:#ff0;font-weight:bold">1</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">110</span>        <span style="color:#fff;font-weight:bold">if</span> (Ball.X - Ball.Radius &lt;= <span style="color:#ff0;font-weight:bold">0</span>) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">111</span>          Computer.Score++;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">112</span>          Ball.Reset();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">113</span>        } <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (Ball.X + Ball.Radius &gt; Width) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">114</span>          Player.Score++;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">115</span>          Ball.Reset();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">116</span>        }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">117</span>        <span style="color:#fff;font-weight:bold">if</span> (Computer.Score === <span style="color:#ff0;font-weight:bold">10</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">118</span>          GameOver(<span style="color:#fff;font-weight:bold">false</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">119</span>        <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (Player.Score === <span style="color:#ff0;font-weight:bold">10</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">120</span>          GameOver(<span style="color:#fff;font-weight:bold">true</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">121</span>        Computer.Y = (Computer.Y + Computer.Height / <span style="color:#ff0;font-weight:bold">2</span> &lt; Ball.Y ? Computer.Y + Computer.Vel : Computer.Y - Computer.Vel);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">122</span>      };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">123</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">124</span>      <span style="color:#fff;font-weight:bold">function</span> GameOver(win) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">125</span>        cancelRequestAnimFrame(init);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">126</span>        BG.Paint();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">127</span>        ctx.fillStyle = <span style="color:#0ff;font-weight:bold">&#34;#999&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">128</span>        ctx.font = <span style="color:#0ff;font-weight:bold">&#34;bold 40px Calibri&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">129</span>        ctx.textAlign = <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">130</span>        ctx.fillText((win ? <span style="color:#0ff;font-weight:bold">&#34;YOU WON!&#34;</span> : <span style="color:#0ff;font-weight:bold">&#34;GAME OVER&#34;</span>), Width / <span style="color:#ff0;font-weight:bold">2</span>, Height / <span style="color:#ff0;font-weight:bold">2</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">131</span>        ctx.font = <span style="color:#0ff;font-weight:bold">&#34;normal 16px Calibri&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">132</span>        ctx.fillText(<span style="color:#0ff;font-weight:bold">&#34;refresh to replay&#34;</span>, Width / <span style="color:#ff0;font-weight:bold">2</span>, Height / <span style="color:#ff0;font-weight:bold">2</span> + <span style="color:#ff0;font-weight:bold">20</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">133</span>      }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">134</span>      <span style="color:#fff;font-weight:bold">return</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">135</span>        Start: <span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">136</span>          Ball.Reset();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">137</span>          Player.Score = <span style="color:#ff0;font-weight:bold">0</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">138</span>          Computer.Score = <span style="color:#ff0;font-weight:bold">0</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">139</span>          Computer.Vel = <span style="color:#ff0;font-weight:bold">1.25</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">140</span>          Loop();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">141</span>        }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">142</span>      };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">143</span>    })();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">144</span>    game.Start();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">145</span>  &lt;/<span style="font-weight:bold">script</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">146</span>&lt;/<span style="font-weight:bold">body</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">147</span>&lt;/<span style="font-weight:bold">html</span>&gt;</code></pre></div>

			</div>

			
		</div>

  </body>
</html>
