<!DOCTYPE html>
<html lang="en-us">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.74.3" />

    
    
    

<title>Pong in &lt; 250 lines of JS! â€¢ Oliver Wilkie</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Pong in &lt; 250 lines of JS!"/>
<meta name="twitter:description" content="This is a crude example of a playable game that can be expressed in less than 250 lines of code!
Demo Code 1&lt;!DOCTYPE html&gt; 2&lt;html&gt; 3&lt;body&gt; 4 &lt;canvas id=&#34;game&#34;&gt; &lt;/canvas&gt; 5 &lt;script type=&#34;text/javascript&#34;&gt; 6 var game = (function() { 7 var Width = 800, Height = 450; 8 var canvas = document.getElementById(&#34;game&#34;); 9 var FPS = 1000 / 60; 10 canvas.width = Width; 11 canvas.height = Height; 12 canvas.setAttribute(&#39;tabindex&#39;, 1); 13 var ctx = canvas."/>

<meta property="og:title" content="Pong in &lt; 250 lines of JS!" />
<meta property="og:description" content="This is a crude example of a playable game that can be expressed in less than 250 lines of code!
Demo Code 1&lt;!DOCTYPE html&gt; 2&lt;html&gt; 3&lt;body&gt; 4 &lt;canvas id=&#34;game&#34;&gt; &lt;/canvas&gt; 5 &lt;script type=&#34;text/javascript&#34;&gt; 6 var game = (function() { 7 var Width = 800, Height = 450; 8 var canvas = document.getElementById(&#34;game&#34;); 9 var FPS = 1000 / 60; 10 canvas.width = Width; 11 canvas.height = Height; 12 canvas.setAttribute(&#39;tabindex&#39;, 1); 13 var ctx = canvas." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://oliverwilkie.com/2016/05/pong/" />
<meta property="article:published_time" content="2016-05-27T15:02:32+01:00" />
<meta property="article:modified_time" content="2016-05-27T15:02:32+01:00" />


    






<link rel="stylesheet" href="/scss/hyde-hyde.9cdb919290b786366914dd4806142b24b687f9b52a34d68eef049e0663057bb0.css" integrity="sha256-nNuRkpC3hjZpFN1IBhQrJLaH&#43;bUqNNaO7wSeBmMFe7A=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
    

</head>


    <body class="theme-base-0b ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://oliverwilkie.com/">
        
          Oliver Wilkie
        
        </a>
      </span>
      
      
      <p class="site__description">
         Software Engineer 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Oliver Wilkie</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/posts">
						<span>Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/portfolio">
						<span>Projects</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/about/">
						<span>About</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/oliwilks" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	<a href="https://github.com/oliw" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	<a href="https://linkedin.com/in/owilkie" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    


  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>Pong in &lt; 250 lines of JS!</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> May 27, 2016
    
    
    
      
      
          in
          
          
              <a class="badge badge-category" href="/categories/coding">CODING</a>
              
          
      
    
    
    
    <br/>
    <i class="fas fa-clock"></i> 4 min read
</div>


  </header>
  
  
  <div class="post">
    <p>This is a crude example of a playable game that can be expressed in less than 250 lines of code!</p>
<h2 id="demo">Demo</h2>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h2 id="code">Code</h2>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  1</span><span style="color:#0f0;font-weight:bold">&lt;!DOCTYPE html&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  2</span>&lt;<span style="font-weight:bold">html</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  3</span>&lt;<span style="font-weight:bold">body</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  4</span>  &lt;<span style="font-weight:bold">canvas</span> <span style="color:#007f7f">id</span>=<span style="color:#0ff;font-weight:bold">&#34;game&#34;</span>&gt; &lt;/<span style="font-weight:bold">canvas</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  5</span>  &lt;<span style="font-weight:bold">script</span> <span style="color:#007f7f">type</span>=<span style="color:#0ff;font-weight:bold">&#34;text/javascript&#34;</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  6</span>    <span style="color:#fff;font-weight:bold">var</span> game = (<span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  7</span>      <span style="color:#fff;font-weight:bold">var</span> Width = <span style="color:#ff0;font-weight:bold">800</span>, Height = <span style="color:#ff0;font-weight:bold">450</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  8</span>      <span style="color:#fff;font-weight:bold">var</span> canvas = <span style="color:#fff;font-weight:bold">document</span>.getElementById(<span style="color:#0ff;font-weight:bold">&#34;game&#34;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  9</span>      <span style="color:#fff;font-weight:bold">var</span> FPS = <span style="color:#ff0;font-weight:bold">1000</span> / <span style="color:#ff0;font-weight:bold">60</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 10</span>      canvas.width = Width;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 11</span>      canvas.height = Height;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 12</span>      canvas.setAttribute(<span style="color:#0ff;font-weight:bold">&#39;tabindex&#39;</span>, <span style="color:#ff0;font-weight:bold">1</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 13</span>      <span style="color:#fff;font-weight:bold">var</span> ctx = canvas.getContext(<span style="color:#0ff;font-weight:bold">&#34;2d&#34;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 14</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 15</span>      <span style="color:#fff;font-weight:bold">var</span> BG = {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 16</span>        Color: <span style="color:#0ff;font-weight:bold">&#39;#333&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 17</span>        Paint: <span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 18</span>          ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.Color;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 19</span>          ctx.fillRect(<span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">0</span>, Width, Height);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 20</span>        }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 21</span>      };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 22</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 23</span>      <span style="color:#fff;font-weight:bold">var</span> Ball = { Radius: <span style="color:#ff0;font-weight:bold">5</span>, Color: <span style="color:#0ff;font-weight:bold">&#39;#999&#39;</span>, X: <span style="color:#ff0;font-weight:bold">0</span>, Y: <span style="color:#ff0;font-weight:bold">0</span>, VelX: <span style="color:#ff0;font-weight:bold">0</span>, VelY: <span style="color:#ff0;font-weight:bold">0</span> };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 24</span>      Ball.Paint = <span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 25</span>        ctx.beginPath();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 26</span>        ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.Color;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 27</span>        ctx.arc(<span style="color:#fff;font-weight:bold">this</span>.X, <span style="color:#fff;font-weight:bold">this</span>.Y, <span style="color:#fff;font-weight:bold">this</span>.Radius, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#fff;font-weight:bold">Math</span>.PI * <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">false</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 28</span>        ctx.fill();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 29</span>        <span style="color:#fff;font-weight:bold">this</span>.Update();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 30</span>      };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 31</span>      Ball.Update = <span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 32</span>        <span style="color:#fff;font-weight:bold">this</span>.X += <span style="color:#fff;font-weight:bold">this</span>.VelX;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 33</span>        <span style="color:#fff;font-weight:bold">this</span>.Y += <span style="color:#fff;font-weight:bold">this</span>.VelY;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 34</span>      };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 35</span>      Ball.Reset = <span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 36</span>        <span style="color:#fff;font-weight:bold">this</span>.X = Width / <span style="color:#ff0;font-weight:bold">2</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 37</span>        <span style="color:#fff;font-weight:bold">this</span>.Y = Height / <span style="color:#ff0;font-weight:bold">2</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 38</span>        <span style="color:#fff;font-weight:bold">this</span>.VelX = (!!<span style="color:#fff;font-weight:bold">Math</span>.round(<span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#ff0;font-weight:bold">1</span>) ? <span style="color:#ff0;font-weight:bold">1.5</span> : -<span style="color:#ff0;font-weight:bold">1.5</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 39</span>        <span style="color:#fff;font-weight:bold">this</span>.VelY = (!!<span style="color:#fff;font-weight:bold">Math</span>.round(<span style="color:#fff;font-weight:bold">Math</span>.random() * <span style="color:#ff0;font-weight:bold">1</span>) ? <span style="color:#ff0;font-weight:bold">1.5</span> : -<span style="color:#ff0;font-weight:bold">1.5</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 40</span>      };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 41</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 42</span>      <span style="color:#fff;font-weight:bold">function</span> Paddle(position) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 43</span>        <span style="color:#fff;font-weight:bold">this</span>.Color = <span style="color:#0ff;font-weight:bold">&#39;#999&#39;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 44</span>        <span style="color:#fff;font-weight:bold">this</span>.Width = <span style="color:#ff0;font-weight:bold">5</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 45</span>        <span style="color:#fff;font-weight:bold">this</span>.Height = <span style="color:#ff0;font-weight:bold">100</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 46</span>        <span style="color:#fff;font-weight:bold">this</span>.X = <span style="color:#ff0;font-weight:bold">0</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 47</span>        <span style="color:#fff;font-weight:bold">this</span>.Y = Height / <span style="color:#ff0;font-weight:bold">2</span> - <span style="color:#fff;font-weight:bold">this</span>.Height / <span style="color:#ff0;font-weight:bold">2</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 48</span>        <span style="color:#fff;font-weight:bold">this</span>.Score = <span style="color:#ff0;font-weight:bold">0</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 49</span>        <span style="color:#fff;font-weight:bold">if</span> (position == <span style="color:#0ff;font-weight:bold">&#39;left&#39;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 50</span>          <span style="color:#fff;font-weight:bold">this</span>.X = <span style="color:#ff0;font-weight:bold">0</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 51</span>        <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">this</span>.X = Width - <span style="color:#fff;font-weight:bold">this</span>.Width;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 52</span>        <span style="color:#fff;font-weight:bold">this</span>.Paint = <span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 53</span>          ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.Color;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 54</span>          ctx.fillRect(<span style="color:#fff;font-weight:bold">this</span>.X, <span style="color:#fff;font-weight:bold">this</span>.Y, <span style="color:#fff;font-weight:bold">this</span>.Width, <span style="color:#fff;font-weight:bold">this</span>.Height);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 55</span>          ctx.fillStyle = <span style="color:#fff;font-weight:bold">this</span>.Color;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 56</span>          ctx.font = <span style="color:#0ff;font-weight:bold">&#34;normal 10pt Calibri&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 57</span>          <span style="color:#fff;font-weight:bold">if</span> (position == <span style="color:#0ff;font-weight:bold">&#39;left&#39;</span>) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 58</span>            ctx.textAlign = <span style="color:#0ff;font-weight:bold">&#34;left&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 59</span>            ctx.fillText(<span style="color:#0ff;font-weight:bold">&#34;score: &#34;</span> + Player.Score, <span style="color:#ff0;font-weight:bold">10</span>, <span style="color:#ff0;font-weight:bold">10</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 60</span>          } <span style="color:#fff;font-weight:bold">else</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 61</span>            ctx.textAlign = <span style="color:#0ff;font-weight:bold">&#34;right&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 62</span>            ctx.fillText(<span style="color:#0ff;font-weight:bold">&#34;score: &#34;</span> + Computer.Score, Width - <span style="color:#ff0;font-weight:bold">10</span>, <span style="color:#ff0;font-weight:bold">10</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 63</span>          }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 64</span>        };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 65</span>        <span style="color:#fff;font-weight:bold">this</span>.IsCollision = <span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 66</span>          <span style="color:#fff;font-weight:bold">if</span> (Ball.X - Ball.Radius &gt; <span style="color:#fff;font-weight:bold">this</span>.Width + <span style="color:#fff;font-weight:bold">this</span>.X || <span style="color:#fff;font-weight:bold">this</span>.X &gt; Ball.Radius * <span style="color:#ff0;font-weight:bold">2</span> + Ball.X - Ball.Radius)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 67</span>            <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 68</span>          <span style="color:#fff;font-weight:bold">if</span> (Ball.Y - Ball.Radius &gt; <span style="color:#fff;font-weight:bold">this</span>.Height + <span style="color:#fff;font-weight:bold">this</span>.Y || <span style="color:#fff;font-weight:bold">this</span>.Y &gt; Ball.Radius * <span style="color:#ff0;font-weight:bold">2</span> + Ball.Y - Ball.Radius)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 69</span>            <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 70</span>          <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">true</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 71</span>        };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 72</span>      };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 73</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 74</span>      <span style="color:#fff;font-weight:bold">window</span>.requestAnimFrame = (<span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 75</span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">window</span>.requestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.webkitRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.mozRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.oRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.msRequestAnimationFrame || <span style="color:#fff;font-weight:bold">function</span>(callback) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 76</span>          <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">window</span>.setTimeout(callback, FPS);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 77</span>        };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 78</span>      })();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 79</span>      <span style="color:#fff;font-weight:bold">window</span>.cancelRequestAnimFrame = (<span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 80</span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">window</span>.cancelAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.webkitCancelRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.mozCancelRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.oCancelRequestAnimationFrame || <span style="color:#fff;font-weight:bold">window</span>.msCancelRequestAnimationFrame || clearTimeout
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 81</span>      })();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 82</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 83</span>      <span style="color:#fff;font-weight:bold">var</span> Computer = <span style="color:#fff;font-weight:bold">new</span> Paddle();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 84</span>      <span style="color:#fff;font-weight:bold">var</span> Player = <span style="color:#fff;font-weight:bold">new</span> Paddle(<span style="color:#0ff;font-weight:bold">&#39;left&#39;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 85</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 86</span>      <span style="color:#fff;font-weight:bold">function</span> Paint() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 87</span>        ctx.beginPath();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 88</span>        BG.Paint();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 89</span>        Computer.Paint();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 90</span>        Player.Paint();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 91</span>        Ball.Paint();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 92</span>      }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 93</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 94</span>      <span style="color:#fff;font-weight:bold">function</span> MouseMove(e) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 95</span>        Player.Y = e.pageY - Player.Height / <span style="color:#ff0;font-weight:bold">2</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 96</span>      }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 97</span>      canvas.addEventListener(<span style="color:#0ff;font-weight:bold">&#34;mousemove&#34;</span>, MouseMove, <span style="color:#fff;font-weight:bold">true</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 98</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 99</span>      <span style="color:#fff;font-weight:bold">function</span> Loop() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">100</span>        init = requestAnimFrame(Loop);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">101</span>        Paint();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">102</span>        <span style="color:#fff;font-weight:bold">if</span> (Player.IsCollision() || Computer.IsCollision()) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">103</span>          Ball.VelX = Ball.VelX * -<span style="color:#ff0;font-weight:bold">1</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">104</span>          Ball.VelX += (Ball.VelX &gt; <span style="color:#ff0;font-weight:bold">0</span> ? <span style="color:#ff0;font-weight:bold">0.5</span> : -<span style="color:#ff0;font-weight:bold">0.5</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">105</span>          <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">Math</span>.abs(Ball.VelX) &gt; Ball.Radius * <span style="color:#ff0;font-weight:bold">1.5</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">106</span>            Ball.VelX = (Ball.VelX &gt; <span style="color:#ff0;font-weight:bold">0</span> ? Ball.Radius * <span style="color:#ff0;font-weight:bold">1.5</span> : Ball.Radius * -<span style="color:#ff0;font-weight:bold">1.5</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">107</span>        }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">108</span>        <span style="color:#fff;font-weight:bold">if</span> (Ball.Y - Ball.Radius &lt; <span style="color:#ff0;font-weight:bold">0</span> || Ball.Y + Ball.Radius &gt; Height)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">109</span>          Ball.VelY = Ball.VelY * -<span style="color:#ff0;font-weight:bold">1</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">110</span>        <span style="color:#fff;font-weight:bold">if</span> (Ball.X - Ball.Radius &lt;= <span style="color:#ff0;font-weight:bold">0</span>) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">111</span>          Computer.Score++;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">112</span>          Ball.Reset();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">113</span>        } <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (Ball.X + Ball.Radius &gt; Width) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">114</span>          Player.Score++;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">115</span>          Ball.Reset();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">116</span>        }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">117</span>        <span style="color:#fff;font-weight:bold">if</span> (Computer.Score === <span style="color:#ff0;font-weight:bold">10</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">118</span>          GameOver(<span style="color:#fff;font-weight:bold">false</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">119</span>        <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (Player.Score === <span style="color:#ff0;font-weight:bold">10</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">120</span>          GameOver(<span style="color:#fff;font-weight:bold">true</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">121</span>        Computer.Y = (Computer.Y + Computer.Height / <span style="color:#ff0;font-weight:bold">2</span> &lt; Ball.Y ? Computer.Y + Computer.Vel : Computer.Y - Computer.Vel);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">122</span>      };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">123</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">124</span>      <span style="color:#fff;font-weight:bold">function</span> GameOver(win) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">125</span>        cancelRequestAnimFrame(init);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">126</span>        BG.Paint();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">127</span>        ctx.fillStyle = <span style="color:#0ff;font-weight:bold">&#34;#999&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">128</span>        ctx.font = <span style="color:#0ff;font-weight:bold">&#34;bold 40px Calibri&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">129</span>        ctx.textAlign = <span style="color:#0ff;font-weight:bold">&#34;center&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">130</span>        ctx.fillText((win ? <span style="color:#0ff;font-weight:bold">&#34;YOU WON!&#34;</span> : <span style="color:#0ff;font-weight:bold">&#34;GAME OVER&#34;</span>), Width / <span style="color:#ff0;font-weight:bold">2</span>, Height / <span style="color:#ff0;font-weight:bold">2</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">131</span>        ctx.font = <span style="color:#0ff;font-weight:bold">&#34;normal 16px Calibri&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">132</span>        ctx.fillText(<span style="color:#0ff;font-weight:bold">&#34;refresh to replay&#34;</span>, Width / <span style="color:#ff0;font-weight:bold">2</span>, Height / <span style="color:#ff0;font-weight:bold">2</span> + <span style="color:#ff0;font-weight:bold">20</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">133</span>      }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">134</span>      <span style="color:#fff;font-weight:bold">return</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">135</span>        Start: <span style="color:#fff;font-weight:bold">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">136</span>          Ball.Reset();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">137</span>          Player.Score = <span style="color:#ff0;font-weight:bold">0</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">138</span>          Computer.Score = <span style="color:#ff0;font-weight:bold">0</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">139</span>          Computer.Vel = <span style="color:#ff0;font-weight:bold">1.25</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">140</span>          Loop();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">141</span>        }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">142</span>      };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">143</span>    })();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">144</span>    game.Start();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">145</span>  &lt;/<span style="font-weight:bold">script</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">146</span>&lt;/<span style="font-weight:bold">body</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">147</span>&lt;/<span style="font-weight:bold">html</span>&gt;</code></pre></div>

  </div>
  

  
	
		<p>Want to talk about this post? Find me on <a href="https://twitter.com/oliwilks" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></p>
	
    
    <div>

    </div>


  

<div class="navigation navigation-single">
    
    <a href="/2016/03/reroku/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Reroku (Heroku on a Raspberry Pi)</span>
    </a>
    
    
    <a href="/2016/07/tensorflow_101/" class="navigation-next">
      <span class="navigation-tittle">Tensorflow 101</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


</article>


        </div>
        
    

<script defer src="https://use.fontawesome.com/releases/v5.12.1/js/all.js" integrity="sha384-ZbbbT1gw3joYkKRqh0kWyRp32UAvdqkpbLedQJSlnI8iLQcFVxaGyrOgOJiDQTTR" crossorigin="anonymous"></script>




    



    </body>
</html>
